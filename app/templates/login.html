<html>
<head>
    <meta charset="UTF-8">
    <style>
    * {
        box-sizing:border-box;
        margin:0;
        padding:0;
    }
    </style>
    <link rel="stylesheet" href="../../bower_components/flexboxgrid/dist/flexboxgrid.min.css"/>
    <link href="../../node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet"/>
</head>
<body>
    <style type="text/css">
    .login-container {
        width: 30%;
    }
    </style>
    <div class="container login-container" v-show="!isloggedin">
        <h1>
        This is login page
        </h1>
        <form action="#" class="form-horizontal" >
            <div class="alert alert-danger" role="alert" v-show="loginError">
              <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
              <span class="sr-only">Error:</span>
              Error in login
            </div>
          <div class="form-group">
            <!--label class="col-sm-12 control-label" for="host">Host</label-->
            <div class="col-sm-12">
                <input type="text" class="form-control"  name="host" v-model="host" placeholder="Host" required>
            </div>
          </div>
          <div class="form-group">
            <!--label class="col-sm-12 control-label" for="port">port</label-->
            <div class="col-sm-12">
                <input  type="text" class="form-control" name="port" v-model="port" placeholder="port">
            </div>
          </div>
          <div class="form-group">
            <!--label class="col-sm-12 control-label" for="username">Username</label-->
            <div class="col-sm-12">
                <input type="text" class="form-control"  name="username" v-model="username" placeholder="Username">
            </div>
          </div>
          <div class="form-group">
            <!--label class="col-sm-12 control-label" for="password">Password</label-->
            <div class="col-sm-12">
                <input type="text" class="form-control"  name="password" v-model="password" placeholder="Password">
            </div>
          </div>
          <div class="form-group">
            <!--label class="col-sm-12 control-label" for="database">Database</label-->
            <div class="col-sm-12">
                <input type="text" class="form-control"  name="database" v-model="database" placeholder="Database">
            </div>
          </div>
          <div class="form-group">
            <div class="col-sm-12">
              <button type="submit"  v-on="click: login" class="btn btn-default" style="width: 100%">Connect</button>
            </div>
          </div>  
        </form>
    </div>
    <div class="container" v-show="isloggedin">
        <h1>You have successfully loggedin</h1>
        <h2>list of databases bases</h2>
        <ul>
            <li v-repeat="databases" 
                v-on="click: getCollection( name ) "
                >
                {{name}}
            </li>
        </ul>

        <h2>collections</h2>
        <ul>
            <li 
                v-repeat="collections" 
                v-on="click: getRecords( collectionName ) "
            >
                {{collectionName}}
            </li>
        </ul>
        <h3>Records</h3>
        <ul>
            <li v-repeat="records" >
                {{ stringifyRecord( record ) }}
            </li>
        </ul>
    </div>
</body>
<script src="../view-models/database.js"></script>
<script src="../view-models/login.js"></script>
</html>